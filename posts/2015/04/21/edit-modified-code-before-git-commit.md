# [git でコミット前に変更内容を編集する](/2015/04/21/edit-modified-code-before-git-commit.html)

http://qiita.com/miyohide/items/79ab0ff3b3852289a6be

別ブランチで「ここリファクタできちゃうな〜」ってやっちゃったときに、別ブランチにだけコミットしない内容とあとで cherry-pick できるようにリファクタ内容をコミットしたいことがある。普段は、変更した内容を別ファイルに退避させてコミットしたいところだけにしてコミットするというローテクなことをしていたけど、さすがにアレなのでなんとかできないものかと調べてみたらできるみたいだった。

```
% git add -p
```

とすると、インタラクティブな画面が立ち上がって「この変更部分はどうする？」って聞いてくれる。あとは上の記事に書いてある通りなんだけど、addition になってるところで追加したくないときはその行を消せばよくて、逆に deletion になってる部分で消したくないときは `-` を消して空白にすればよい。

最初これが飲み込めてなくて、何回か整合性とれなくなったのか git に怒られた。これもっと熟れた感じで使えるとより捗りそうな気がしたのでさっそく alias を張った。

```sh
alias ga='git add'
alias gae='git add -p'
```

`git add edit` の意味で。それにしても、やっぱりシェルと Atom をいったりきたりするの面倒になってきた(毎月一回ぐらい感じる)ので Vim 統一したくなったけどやっぱり Atom の方がカスタムしやすくて手が進まないんだよなあ...。
