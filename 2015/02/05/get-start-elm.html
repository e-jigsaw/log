<!DOCTYPE html><html><head><title>Elm に本腰を入れてみようと - Kaihatsu</title><link href="http://yui.yahooapis.com/pure/0.5.0/pure-min.css" rel="stylesheet" type="text/css"><link href="/layout.css" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png"><link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png"><link rel="icon" type="image/png" href="/favicon-192x192.png" sizes="192x192"><link rel="icon" type="image/png" href="/favicon-160x160.png" sizes="160x160"><link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96"><link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16"><link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-TileImage" content="/mstile-144x144.png"><meta property="og:title" content="Elm に本腰を入れてみようと"><meta property="og:type" content="article"><meta property="og:url" content="http://dev.jgs.me/ /2015/02/05/get-start-elm.html"><meta property="og:image" content="http://dev.jgs.me/icon.png"><meta property="og:description" content="http://elm-lang.org/

次世代 JavaScript フレームワークが百花繚乱で戦国時代な今、自分が求めているのは Elm なんじゃないかとおもってきて環境つくるところからやった。"><meta property="og:locale" content="ja_JP"><link href="/github-markdown.css" rel="stylesheet" type="text/css"><link href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/github.min.css" rel="stylesheet" type="text/css"><link href="/page.css" rel="stylesheet" type="text/css"><link href=" /2015/02/05/get-start-elm.html" rel="canonical"><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js" type="text/javascript"></script></head><body><header class="pure-u-1-1"><a href="/"><h1>Kaihatsu</h1></a></header><div id="articleContainer"><article><div class="publish-date"><time datetime="2015-02-05" pubdate><span class="date-year"><a href="/archives/2015.html">2015</a></span><span class="date-month"><a href="/archives/2015-02.html">02</a></span><span class="date-day">05</span></time></div><div class="markdown-body"><h1><a href="/2015/02/05/get-start-elm.html">Elm に本腰を入れてみようと</a></h1>
<p><a href="http://elm-lang.org/">http://elm-lang.org/</a></p>
<p>次世代 JavaScript フレームワークが百花繚乱で戦国時代な今、自分が求めているのは Elm なんじゃないかとおもってきて環境つくるところからやった。</p>
<h2>install</h2>
<p>cabal でやるか pkg からインストールするか迷ったが、最終的に brew cask にした</p>
<pre><code>% brew cask install elm-platform
</code></pre>
<h2>evancz/elm-examples</h2>
<p>ひとまず <a href="https://github.com/evancz/elm-examples">evancz/elm-examples</a> を clone して試した。</p>
<pre><code>% cd elm-examples
% elm-reactor
Elm Reactor 0.3
Listening on http://0.0.0.0:8000/
</code></pre>
<p>この <code>elm-reactor</code> がスゴくて、起動すると</p>
<p><img src="https://cloud.githubusercontent.com/assets/557961/6058446/ddbf634c-ad6a-11e4-9927-eae713949500.png" alt=""></p>
<p>というようなページが立ち上がって <code>Hello.elm</code> をクリックするとコンパイルされた実行結果のページが表示される。さらにすごいのが、Elm には Time Traveling Debugger っていう機能があって (<a href="http://debug.elm-lang.org/edit/Stamps.elm">http://debug.elm-lang.org/edit/Stamps.elm</a>) Time Traveling の名の通り入力を巻き戻したりできるのだ。スパナのアイコンを押すとこのデバッガが立ち上がってデバッグできる。すごい。</p>
<h2>Atom 環境</h2>
<p><a href="https://github.com/edubkendo/atom-elm">https://github.com/edubkendo/atom-elm</a> を入れればシンタックスハイライト効くしだいたいオッケー。WebStorm にもプラグインがあるようなのでいずれ試す。</p>
<h2>Syntax Reference</h2>
<p>基本的に <a href="http://elm-lang.org/learn/Syntax.elm">http://elm-lang.org/learn/Syntax.elm</a> あたりを見ればオッケー。</p>
<p>Example の <code>Hello.elm</code> には</p>
<pre><code class="language-elm">main : Element
main =
    flow down
      [ helloWorld
      , welcomeGraphics
      ]
</code></pre>
<p>というような <code>flow</code> という構文?関数?があってなんじゃらホイとなったが、 <a href="http://elm-lang.org/edit/examples/Elements/FlowDown1a.elm">http://elm-lang.org/edit/examples/Elements/FlowDown1a.elm</a> を見てあっさりわかった。</p>
<pre><code class="language-elm">
{-------------------------------------------------------------
  Elements can be combined into more complex layouts using
  the flow function:

         flow : Direction -&gt; [Element] -&gt; Element

  It is easy to change the direction of flow. Just use a
  different value for the direction!

     down, up, left, right, inward, outward : Direction

  Try switching &quot;down&quot; in the code below with &quot;up&quot;.
-------------------------------------------------------------}

import Graphics.Element (..)
import Text (..)


main : Element
main =
  flow right
    [ plainText &quot;By using the \&quot;flow\&quot; function,&quot;
    , plainText &quot;we can stack elements&quot;
    , plainText &quot;on top of other elements.&quot;
    ]
</code></pre>
<p><code>flow</code> の定義は <code>flow : Direction -&gt; [Element] -&gt; Element</code> で、<code>Direction</code> (<code>down, up, left, right, inward, outward : Direction</code>) と <code>[Element]</code> から <code>Element</code> をつくる関数のようだ。なので <code>up</code> とすると</p>
<pre><code>on top of other elements.
we can stack elements
By using the &quot;flow&quot; function,
</code></pre>
<p>になるし <code>right</code> にすると</p>
<pre><code>By using the &quot;flow&quot; function,we can stack elementson top of other elements.
</code></pre>
<p>横に連結するような定義になっているようだ。実際に生成される html を見てみると <code>right</code> とか <code>left</code> をつけると inline style で <code>float left</code> とか <code>float right</code> が勝手に設定されて意図したデザインとなる。ここだけ取ってみても従来の HTML + CSS + JavaScript の構成でドキュメント構造考えて...スタイル考えて...スクリプト書いて...というようなはっきり言ってめんどくさいことをやらずに済むことが分かる。</p>
<p>とりあえず今日はこの辺で。</p>
</div><div id="comments"><div id="disqus_thread"></div></div><script type="text/javascript">if(location.pathname !== '/') { var disqus_shortname = 'kaihatsu2'; (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })(); }</script><script src="/page.js" type="text/javascript"></script></article></div><footer class="pure-u-1-1"><ul><li><a href="/archives" class="button">Archives</a></li><li><a href="http://jgs.me" class="button">About me</a></li><li><a href="https://github.com/jgsme/dev" class="button">Github repository</a></li></ul></footer></body></html>